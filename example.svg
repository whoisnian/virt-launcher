<svg xmlns="http://www.w3.org/2000/svg" width="210em" height="128em">
<foreignObject width="100%" height="100%" style="background-color:#232627;">
<div xmlns="http://www.w3.org/1999/xhtml" style="font-family:monospace;font-size:16px;line-height:1.2;color:#fcfcfc;background-color:#232627;margin:0;padding:8px;">
<span>┌─[</span><span style="font-weight:bold;color:#fdbc4b;">nian</span><span style="font-weight:bold;color:#ffffff;">@</span><span style="color:#11d116;">legion</span><span>]─[</span><span style="font-weight:bold;color:#3daee9;">~</span><span>]
</span><br/>└──&gt;&gt; ./virt-launcher -d \
<br/> &#160;-n testing \
<br/> &#160;-cpu 1 \
<br/> &#160;-mem 1024 \
<br/> &#160;-s 20G \
<br/> &#160;-os debian12 \
<br/> &#160;-key "$(cat ~/.ssh/id_ed25519.pub)"
<br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> use config: {Debug:true Update:false ListAll:false Prepare:false Version:false Name:testing Os:debian12 Arch: Size:20G Boot:hd Cpu:1 Mem:1024 Key:ssh-ed25519 AAAAC3NzaC...Ou7rzZgVC0 zhuchangbao1998@gmail.com Pass: Network:default Storage:default Connect:qemu:///system}
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> use app cache dir /home/nian/.cache/virt-launcher
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> found 15 distro files
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'alpinelinux3.21.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'archlinux.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'centos-stream10.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'centos-stream9.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'centos7.0.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'debian11.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'debian12.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'fedora41.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'rocky8.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'rocky9.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'ubuntu18.04.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'ubuntu20.04.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'ubuntu22.04.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> read and parse 'ubuntu24.04.json'...
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> exec.LookPath(virsh): /usr/bin/virsh
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> exec.LookPath(xorrisofs): /usr/bin/xorrisofs
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> exec.LookPath(virt-install): /usr/bin/virt-install
</span><br/>2025-05-10 16:52:40 <span style="color:#f67400;">[W]</span><span> automatically detect architecture: amd64
</span><br/>2025-05-10 16:52:40 <span style="color:#11d116;">[I]</span><span> start downloading image to /home/nian/.cache/virt-launcher/images/debian-12-genericcloud-amd64-20250428-2096.qcow2
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> file remote hash: f2a87069aad71019ee0c8215f36bcf1e30248494af41da105f461876ea23d7997782d7a04b68b8cd39b19d4bd1779ae0dfcd6a91d1a2ac719555d673515b4d93
</span><br/>2025-05-10 16:52:40 <span style="color:#9b59b6;">[D]</span><span> start downloading image from https://cdimage.debian.org/images/cloud/bookworm/20250428-2096/debian-12-genericcloud-amd64-20250428-2096.qcow2
</span><br/>2025-05-10 16:52:42 <span style="color:#9b59b6;">[D]</span><span> got content-length 345405952
</span><br/>2025-05-10 16:52:42 <span style="color:#11d116;">[I]</span><span> &#160;&#160;0 MiB of 329 MiB downloaded (0%)
</span><br/>2025-05-10 16:52:44 <span style="color:#11d116;">[I]</span><span> &#160;&#160;8 MiB of 329 MiB downloaded (2%)
</span><br/>2025-05-10 16:52:46 <span style="color:#11d116;">[I]</span><span> &#160;51 MiB of 329 MiB downloaded (15%)
</span><br/>2025-05-10 16:52:48 <span style="color:#11d116;">[I]</span><span> 139 MiB of 329 MiB downloaded (42%)
</span><br/>2025-05-10 16:52:50 <span style="color:#11d116;">[I]</span><span> 213 MiB of 329 MiB downloaded (64%)
</span><br/>2025-05-10 16:52:52 <span style="color:#11d116;">[I]</span><span> 256 MiB of 329 MiB downloaded (77%)
</span><br/>2025-05-10 16:52:54 <span style="color:#11d116;">[I]</span><span> 293 MiB of 329 MiB downloaded (89%)
</span><br/>2025-05-10 16:52:56 <span style="color:#11d116;">[I]</span><span> 329 MiB of 329 MiB downloaded (100%)
</span><br/>2025-05-10 16:52:56 <span style="color:#9b59b6;">[D]</span><span> calc local hash from /home/nian/.cache/virt-launcher/images/debian-12-genericcloud-amd64-20250428-2096.qcow2
</span><br/>2025-05-10 16:52:57 <span style="color:#9b59b6;">[D]</span><span> file local hash: f2a87069aad71019ee0c8215f36bcf1e30248494af41da105f461876ea23d7997782d7a04b68b8cd39b19d4bd1779ae0dfcd6a91d1a2ac719555d673515b4d93
</span><br/>2025-05-10 16:52:57 <span style="color:#11d116;">[I]</span><span> hash verification ok
</span><br/>2025-05-10 16:52:57 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system net-info --network default
</span><br/>2025-05-10 16:52:57 <span style="color:#9b59b6;">[D]</span><span> network default is already active
</span><br/>2025-05-10 16:52:57 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system pool-info --pool default
</span><br/>2025-05-10 16:52:57 <span style="color:#9b59b6;">[D]</span><span> storage pool default is already running
</span><br/>2025-05-10 16:52:57 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system vol-create-as --pool default --name testing.mahzn4xo.qcow2 --capacity 0
</span><br/>2025-05-10 16:52:57 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system vol-upload --pool default --vol testing.mahzn4xo.qcow2 --file /home/nian/.cache/virt-launcher/images/debian-12-genericcloud-amd64-20250428-2096.qcow2
</span><br/>2025-05-10 16:52:57 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system vol-resize --pool default --vol testing.mahzn4xo.qcow2 --capacity 20G
</span><br/>2025-05-10 16:52:58 <span style="color:#9b59b6;">[D]</span><span> start writing cloud-init data files to /home/nian/.cache/virt-launcher/cloud-init/testing.mahzn4xo
</span><br/>2025-05-10 16:52:58 <span style="color:#9b59b6;">[D]</span><span> start writing cloud-init iso file to /home/nian/.cache/virt-launcher/boot/testing.mahzn4xo.seed.iso
</span><br/>2025-05-10 16:52:58 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/xorrisofs -output /home/nian/.cache/virt-launcher/boot/testing.mahzn4xo.seed.iso -volid cidata -joliet -input-charset utf8 -rational-rock /home/nian/.cache/virt-launcher/cloud-init/testing.mahzn4xo
</span><br/>2025-05-10 16:52:58 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system vol-create-as --pool default --name testing.mahzn4xo.seed.iso --capacity 0
</span><br/>2025-05-10 16:52:58 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system vol-upload --pool default --vol testing.mahzn4xo.seed.iso --file /home/nian/.cache/virt-launcher/boot/testing.mahzn4xo.seed.iso
</span><br/>2025-05-10 16:52:58 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virt-install --connect qemu:///system --import --name testing --osinfo debian12 --arch x86_64 --vcpus 1 --memory 1024 --boot hd --disk vol=default/testing.mahzn4xo.qcow2 --disk source.startupPolicy=optional,vol=default/testing.mahzn4xo.seed.iso --network network=default --graphics none --noautoconsole
</span><br/>2025-05-10 16:52:59 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system domstats --state --domain testing
</span><br/>2025-05-10 16:52:59 <span style="color:#9b59b6;">[D]</span><span> Domain: 'testing' state.state=1 state.reason=1
</span><br/>2025-05-10 16:52:59 <span style="color:#11d116;">[I]</span><span> wait for domain off. current state: running
</span><br/>2025-05-10 16:53:02 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system domstats --state --domain testing
</span><br/>2025-05-10 16:53:02 <span style="color:#9b59b6;">[D]</span><span> Domain: 'testing' state.state=1 state.reason=1
</span><br/>2025-05-10 16:53:02 <span style="color:#11d116;">[I]</span><span> wait for domain off. current state: running
</span><br/>2025-05-10 16:53:05 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system domstats --state --domain testing
</span><br/>2025-05-10 16:53:05 <span style="color:#9b59b6;">[D]</span><span> Domain: 'testing' state.state=1 state.reason=1
</span><br/>2025-05-10 16:53:05 <span style="color:#11d116;">[I]</span><span> wait for domain off. current state: running
</span><br/>2025-05-10 16:53:08 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system domstats --state --domain testing
</span><br/>2025-05-10 16:53:08 <span style="color:#9b59b6;">[D]</span><span> Domain: 'testing' state.state=5 state.reason=1
</span><br/>2025-05-10 16:53:08 <span style="color:#11d116;">[I]</span><span> wait for domain off. current state: shut off
</span><br/>2025-05-10 16:53:08 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system vol-delete --pool default --vol testing.mahzn4xo.seed.iso
</span><br/>2025-05-10 16:53:08 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system start --domain testing
</span><br/>2025-05-10 16:53:08 <span style="color:#11d116;">[I]</span><span> [NOTE] cloud image default user: debian
</span><br/>2025-05-10 16:53:08 <span style="color:#11d116;">[I]</span><span> [NOTE] fetch vm ip addr: /usr/bin/virsh --connect qemu:///system domifaddr --domain testing
</span><br/>┌─[<span style="font-weight:bold;color:#fdbc4b;">nian</span><span style="font-weight:bold;color:#ffffff;">@</span><span style="color:#11d116;">legion</span><span>]─[</span><span style="font-weight:bold;color:#3daee9;">~</span><span>]─</span><span style="color:#1abc9c;">[28s]</span><span>
</span><br/>└──&gt;&gt; /usr/bin/virsh --connect qemu:///system domifaddr --domain testing
<br/> Name &#160;&#160;&#160;&#160;&#160;&#160;MAC address &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Protocol &#160;&#160;&#160;&#160;Address
<br/>-------------------------------------------------------------------------------
<br/> vnet3 &#160;&#160;&#160;&#160;&#160;52:54:00:d1:ae:13 &#160;&#160;&#160;ipv4 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;192.168.122.55/24
<br/>
<br/>┌─[<span style="font-weight:bold;color:#fdbc4b;">nian</span><span style="font-weight:bold;color:#ffffff;">@</span><span style="color:#11d116;">legion</span><span>]─[</span><span style="font-weight:bold;color:#3daee9;">~</span><span>]
</span><br/>└──&gt;&gt; ssh debian@192.168.122.55 -i .ssh/id_ed25519
<br/>Warning: Permanently added '192.168.122.55' (ED25519) to the list of known hosts.
<br/>Linux testing 6.1.0-34-cloud-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.1.135-1 (2025-04-25) x86_64
<br/>
<br/>The programs included with the Debian GNU/Linux system are free software;
<br/>the exact distribution terms for each program are described in the
<br/>individual files in /usr/share/doc/*/copyright.
<br/>
<br/>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
<br/>permitted by applicable law.
<br/><span style="font-weight:bold;color:#1cdc9a;">debian@testing</span><span>:</span><span style="font-weight:bold;color:#3daee9;">~</span><span>$ cat /etc/os-release &#160;</span><br/>PRETTY_NAME="Debian GNU/Linux 12 (bookworm)"
<br/>NAME="Debian GNU/Linux"
<br/>VERSION_ID="12"
<br/>VERSION="12 (bookworm)"
<br/>VERSION_CODENAME=bookworm
<br/>ID=debian
<br/>HOME_URL="https://www.debian.org/"
<br/>SUPPORT_URL="https://www.debian.org/support"
<br/>BUG_REPORT_URL="https://bugs.debian.org/"
<br/><span style="font-weight:bold;color:#1cdc9a;">debian@testing</span><span>:</span><span style="font-weight:bold;color:#3daee9;">~</span><span>$ exit&#160;</span><br/>logout
<br/>Shared connection to 192.168.122.55 closed.
<br/>┌─[<span style="font-weight:bold;color:#fdbc4b;">nian</span><span style="font-weight:bold;color:#ffffff;">@</span><span style="color:#11d116;">legion</span><span>]─[</span><span style="font-weight:bold;color:#3daee9;">~</span><span>]─</span><span style="color:#1abc9c;">[6s]</span><span>
</span><br/>└──&gt;&gt; <br/>
</div>
</foreignObject>
</svg>
