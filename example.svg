<svg xmlns="http://www.w3.org/2000/svg" width="180em" height="128em">
<foreignObject width="100%" height="100%" style="background-color:#232627;">
<div xmlns="http://www.w3.org/1999/xhtml" style="font-family:monospace;font-size:16px;line-height:1.2;color:#fcfcfc;background-color:#232627;margin:0;padding:8px;">
<span>┌─[</span><span style="font-weight:bold;color:#fdbc4b;">nian</span><span style="font-weight:bold;color:#ffffff;">@</span><span style="color:#11d116;">legion</span><span>]─[</span><span style="font-weight:bold;color:#3daee9;">~</span><span>]
</span><br/>└──&gt;&gt; sudo -E ./virt-launcher -d \ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/> &#160;-n testing \
<br/> &#160;-cpu 2 \
<br/> &#160;-mem 4096 \
<br/> &#160;-s 40G \
<br/> &#160;-os debian12 \
<br/> &#160;-key "$(cat .ssh/id_ed25519.pub)"
<br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> use config: {Debug:true ListAll:false DryRun:false Version:false Name:d12 Os:debian12 Arch: Size:40G Cpu:2 Mem:4096 Key:ssh-ed25519 AAAAC3NzaC...Ou7rzZgVC0 zhuchangbao1998@gmail.com Pass: Storage:/var/lib/libvirt/images Connect:qemu:///system}
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> use base cache dir /home/nian/.cache/virt-launcher
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> found 11 os files
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'archlinux.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'centos-7.0.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'centos-stream8.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'centos-stream9.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'debian-10.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'debian-11.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'debian-12.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'ubuntu-18.04.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'ubuntu-20.04.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'ubuntu-22.04.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> read and parse 'ubuntu-24.04.json'...
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> exec.LookPath(qemu-img): /usr/bin/qemu-img
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> exec.LookPath(virt-install): /usr/bin/virt-install
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> exec.LookPath(xorrisofs): /usr/bin/xorrisofs
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> exec.LookPath(virsh): /usr/bin/virsh
</span><br/>2025-03-23 22:52:20 <span style="color:#f67400;">[W]</span><span> automatically detect architecture: amd64
</span><br/>2025-03-23 22:52:20 <span style="color:#11d116;">[I]</span><span> start downloading image to /home/nian/.cache/virt-launcher/images/debian-12-genericcloud-amd64-20250316-2053.qcow2
</span><br/>2025-03-23 22:52:20 <span style="color:#9b59b6;">[D]</span><span> get remote hash from https://cdimage.debian.org/images/cloud/bookworm/20250316-2053/SHA512SUMS
</span><br/>2025-03-23 22:52:21 <span style="color:#9b59b6;">[D]</span><span> file remote hash: 0ea74c246c5eb8c6eb5b8e3b8b5268b16a791dfbc8f0bca27d9d787a3f4c50a7830bfc690e6902dfe78031fb2b2c3892349990d6b26b13112252a81d6f20f792
</span><br/>2025-03-23 22:52:21 <span style="color:#9b59b6;">[D]</span><span> start downloading image from https://cdimage.debian.org/images/cloud/bookworm/20250316-2053/debian-12-genericcloud-amd64-20250316-2053.qcow2
</span><br/>2025-03-23 22:52:24 <span style="color:#9b59b6;">[D]</span><span> got content-length 343998464
</span><br/>2025-03-23 22:52:24 <span style="color:#11d116;">[I]</span><span> &#160;&#160;0 MiB of 328 MiB downloaded (0%)
</span><br/>2025-03-23 22:52:26 <span style="color:#11d116;">[I]</span><span> &#160;&#160;7 MiB of 328 MiB downloaded (2%)
</span><br/>2025-03-23 22:52:28 <span style="color:#11d116;">[I]</span><span> &#160;54 MiB of 328 MiB downloaded (16%)
</span><br/>2025-03-23 22:52:30 <span style="color:#11d116;">[I]</span><span> 111 MiB of 328 MiB downloaded (33%)
</span><br/>2025-03-23 22:52:32 <span style="color:#11d116;">[I]</span><span> 157 MiB of 328 MiB downloaded (47%)
</span><br/>2025-03-23 22:52:34 <span style="color:#11d116;">[I]</span><span> 205 MiB of 328 MiB downloaded (62%)
</span><br/>2025-03-23 22:52:36 <span style="color:#11d116;">[I]</span><span> 248 MiB of 328 MiB downloaded (75%)
</span><br/>2025-03-23 22:52:38 <span style="color:#11d116;">[I]</span><span> 292 MiB of 328 MiB downloaded (89%)
</span><br/>2025-03-23 22:52:40 <span style="color:#11d116;">[I]</span><span> 328 MiB of 328 MiB downloaded (100%)
</span><br/>2025-03-23 22:52:40 <span style="color:#9b59b6;">[D]</span><span> calc local hash from /home/nian/.cache/virt-launcher/images/debian-12-genericcloud-amd64-20250316-2053.qcow2
</span><br/>2025-03-23 22:52:40 <span style="color:#9b59b6;">[D]</span><span> file local hash: 0ea74c246c5eb8c6eb5b8e3b8b5268b16a791dfbc8f0bca27d9d787a3f4c50a7830bfc690e6902dfe78031fb2b2c3892349990d6b26b13112252a81d6f20f792
</span><br/>2025-03-23 22:52:40 <span style="color:#11d116;">[I]</span><span> hash verification ok
</span><br/>2025-03-23 22:52:40 <span style="color:#9b59b6;">[D]</span><span> start copying file from /home/nian/.cache/virt-launcher/images/debian-12-genericcloud-amd64-20250316-2053.qcow2 to /home/nian/.cache/virt-launcher/boot/testing.m8lrbu07.qcow2
</span><br/>2025-03-23 22:52:41 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/qemu-img resize /home/nian/.cache/virt-launcher/boot/testing.m8lrbu07.qcow2 40G
</span><br/>2025-03-23 22:52:41 <span style="color:#9b59b6;">[D]</span><span> start writing cloud-init data files to /home/nian/.cache/virt-launcher/cloud-init/testing.m8lrbu07
</span><br/>2025-03-23 22:52:41 <span style="color:#9b59b6;">[D]</span><span> start creating cloud-init iso file to /home/nian/.cache/virt-launcher/boot/testing.m8lrbu07.iso
</span><br/>2025-03-23 22:52:41 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/xorrisofs -output /home/nian/.cache/virt-launcher/boot/testing.m8lrbu07.iso -volid cidata -joliet -input-charset utf8 -rational-rock /home/nian/.cache/virt-launcher/cloud-init/testing.m8lrbu07
</span><br/>2025-03-23 22:52:41 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/mv /home/nian/.cache/virt-launcher/boot/testing.m8lrbu07.qcow2 /var/lib/libvirt/images/testing.m8lrbu07.qcow2
</span><br/>2025-03-23 22:52:41 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/mv /home/nian/.cache/virt-launcher/boot/testing.m8lrbu07.iso /var/lib/libvirt/images/testing.m8lrbu07.iso
</span><br/>2025-03-23 22:52:41 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virt-install --import --name testing --osinfo debian12 --disk /var/lib/libvirt/images/testing.m8lrbu07.qcow2 --disk /var/lib/libvirt/images/testing.m8lrbu07.iso --vcpus 2 --memory 4096 --virt-type kvm --graphics none --noautoconsole --connect qemu:///system
</span><br/>2025-03-23 22:52:41 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system domstats --state --domain testing
</span><br/>2025-03-23 22:52:41 <span style="color:#9b59b6;">[D]</span><span> Domain: 'testing' state.state=1 state.reason=1
</span><br/>2025-03-23 22:52:41 <span style="color:#11d116;">[I]</span><span> wait for domain off. current state: running
</span><br/>2025-03-23 22:52:44 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system domstats --state --domain testing
</span><br/>2025-03-23 22:52:44 <span style="color:#9b59b6;">[D]</span><span> Domain: 'testing' state.state=1 state.reason=1
</span><br/>2025-03-23 22:52:44 <span style="color:#11d116;">[I]</span><span> wait for domain off. current state: running
</span><br/>2025-03-23 22:52:47 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system domstats --state --domain testing
</span><br/>2025-03-23 22:52:47 <span style="color:#9b59b6;">[D]</span><span> Domain: 'testing' state.state=1 state.reason=1
</span><br/>2025-03-23 22:52:47 <span style="color:#11d116;">[I]</span><span> wait for domain off. current state: running
</span><br/>2025-03-23 22:52:50 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system domstats --state --domain testing
</span><br/>2025-03-23 22:52:50 <span style="color:#9b59b6;">[D]</span><span> Domain: 'testing' state.state=1 state.reason=1
</span><br/>2025-03-23 22:52:50 <span style="color:#11d116;">[I]</span><span> wait for domain off. current state: running
</span><br/>2025-03-23 22:52:53 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system domstats --state --domain testing
</span><br/>2025-03-23 22:52:53 <span style="color:#9b59b6;">[D]</span><span> Domain: 'testing' state.state=5 state.reason=1
</span><br/>2025-03-23 22:52:53 <span style="color:#11d116;">[I]</span><span> wait for domain off. current state: shut off
</span><br/>2025-03-23 22:52:53 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system detach-disk --persistent --domain testing /var/lib/libvirt/images/testing.m8lrbu07.iso
</span><br/>2025-03-23 22:52:53 <span style="color:#9b59b6;">[D]</span><span> /usr/bin/virsh --connect qemu:///system start --domain testing
</span><br/>2025-03-23 22:52:53 <span style="color:#11d116;">[I]</span><span> [NOTE] cloud image default user: debian
</span><br/>2025-03-23 22:52:53 <span style="color:#11d116;">[I]</span><span> [NOTE] fetch vm ip addr: /usr/bin/virsh --connect qemu:///system domifaddr --domain testing
</span><br/>┌─[<span style="font-weight:bold;color:#fdbc4b;">nian</span><span style="font-weight:bold;color:#ffffff;">@</span><span style="color:#11d116;">legion</span><span>]─[</span><span style="font-weight:bold;color:#3daee9;">~</span><span>]─</span><span style="color:#1abc9c;">[33s]</span><span>
</span><br/>└──&gt;&gt; /usr/bin/virsh --connect qemu:///system domifaddr --domain testing
<br/> Name &#160;&#160;&#160;&#160;&#160;&#160;MAC address &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Protocol &#160;&#160;&#160;&#160;Address
<br/>-------------------------------------------------------------------------------
<br/> vnet3 &#160;&#160;&#160;&#160;&#160;52:54:00:d1:ae:13 &#160;&#160;&#160;ipv4 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;192.168.122.55/24
<br/>
<br/>┌─[<span style="font-weight:bold;color:#fdbc4b;">nian</span><span style="font-weight:bold;color:#ffffff;">@</span><span style="color:#11d116;">legion</span><span>]─[</span><span style="font-weight:bold;color:#3daee9;">~</span><span>]
</span><br/>└──&gt;&gt; ssh debian@192.168.122.55 -i .ssh/id_ed25519
<br/>Warning: Permanently added '192.168.122.55' (ED25519) to the list of known hosts.
<br/>Linux testing 6.1.0-32-cloud-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.1.129-1 (2025-03-06) x86_64
<br/>
<br/>The programs included with the Debian GNU/Linux system are free software;
<br/>the exact distribution terms for each program are described in the
<br/>individual files in /usr/share/doc/*/copyright.
<br/>
<br/>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
<br/>permitted by applicable law.
<br/><span style="font-weight:bold;color:#1cdc9a;">debian@testing</span><span>:</span><span style="font-weight:bold;color:#3daee9;">~</span><span>$ cat /etc/os-release &#160;</span><br/>PRETTY_NAME="Debian GNU/Linux 12 (bookworm)"
<br/>NAME="Debian GNU/Linux"
<br/>VERSION_ID="12"
<br/>VERSION="12 (bookworm)"
<br/>VERSION_CODENAME=bookworm
<br/>ID=debian
<br/>HOME_URL="https://www.debian.org/"
<br/>SUPPORT_URL="https://www.debian.org/support"
<br/>BUG_REPORT_URL="https://bugs.debian.org/"
<br/><span style="font-weight:bold;color:#1cdc9a;">debian@testing</span><span>:</span><span style="font-weight:bold;color:#3daee9;">~</span><span>$ exit&#160;</span><br/>logout
<br/>Shared connection to 192.168.122.55 closed.
<br/>┌─[<span style="font-weight:bold;color:#fdbc4b;">nian</span><span style="font-weight:bold;color:#ffffff;">@</span><span style="color:#11d116;">legion</span><span>]─[</span><span style="font-weight:bold;color:#3daee9;">~</span><span>]─</span><span style="color:#1abc9c;">[6s]</span><span>
</span><br/>└──&gt;&gt; <br/>
</div>
</foreignObject>
</svg>
